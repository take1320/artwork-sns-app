#!/bin/bash
# ã“ã®shã‚’ä»»æ„ã®å ´æ‰€ã«é…ç½®ã—ã¦ã€core.hooksPathã«è¨­å®šã™ã‚‹ã¨å…¨ä½“ã§åˆ©ç”¨ã§ãã¾ã™ã€‚
# e.g. /usr/local/etc/git-hooks/ ã«ã“ã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’é…ç½®ã—ãŸå ´åˆ
# git config --global core.hooksPath /usr/local/etc/git-hooks/

out=$1
cat $out
function message() {
  mv $out $out.tmp
  cat <<EOS > $out
$1#`git branch | grep "*" | awk '{print $2}' | grep -o -e '[0-9]\+'`
EOS
  cat $out.tmp >> $out
}

str=$(cat <<-EOS
ğŸ› :bug: ãƒã‚°ä¿®æ­£
ğŸ”¥ :fire: ãƒ•ã‚¡ã‚¤ãƒ«ãƒ»æ©Ÿèƒ½ã®å‰Šé™¤
âœ¨ :sparkles: æ©Ÿèƒ½è¿½åŠ 
â™»ï¸ :recycle: ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°
âœï¸ :pencil2: typo
ğŸ¨ :art: æ§‹é€ ã®å¤‰æ›´
ğŸ“;:memo: READMEãªã©docsæ›´æ–°
ğŸ’š :green_heart: ãƒ†ã‚¹ãƒˆã‚„CIã®ä¿®æ­£ãƒ»æ”¹å–„
âœ… :white_check_mark: ãƒ†ã‚¹ãƒˆè¿½åŠ æ™‚
ğŸ‘• :shirt: Lintã‚¨ãƒ©ãƒ¼ã®ä¿®æ­£ã‚„ã‚³ãƒ¼ãƒ‰ã‚¹ã‚¿ã‚¤ãƒ«ã®ä¿®æ­£
ğŸ”§ :wrench: è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã®ä¿®æ­£ã€ç’°å¢ƒå¤‰æ•°ã®è¿½åŠ ãƒ»ä¿®æ­£
â¬†ï¸ :arrow_up: ä¾å­˜ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®upgrade
â¬‡ï¸ :arrow_down: ä¾å­˜ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®downgrade
â– :heavy_minus_sign: ä¾å­˜ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®å‰Šé™¤
â• :heavy_plus_sign: ä¾å­˜ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸è¿½åŠ 
ğŸš§ :construction: WIP
ğŸš€ :rocket: ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æ”¹å–„
ğŸ™ˆ :see_no_evil: .gitignoreã®add/update
ğŸ­ :mouse: add/update .editorconfig
ğŸ‰ :tada: Initial Commit
EOS
)
type=$(echo "$str" | peco | awk 'match($0, /(:.*:)/) {print substr($0, RSTART, RLENGTH)}')
message "$type "
